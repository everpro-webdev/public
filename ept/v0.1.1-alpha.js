/**
 * Author: EverPro
 * Author URI: https://www.everprosolutions.com/
 * Version: 0.1.1-alpha
 * Updated: 11/25/2024
 * 
 * Copyright EverPro
 * All Rights Reserved.
 * 
 * NOTICE: Unauthorized use or copying of this file
 *         via any medium is strictly prohibited.
 *         Proprietary and confidential
 */
var EptBrowser;(()=>{"use strict";var e={991:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.1.1-alpha"},588:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EcCore=void 0;const r=o(935);t.EcCore=({settings:e,track:t,identify:o,version:i})=>{const n=e=>{const t=(0,r.readCookie)("__ecatft"),o=(0,r.readCookie)("__ecatlt");e&&e.first_touch&&e.last_touch?setTimeout((()=>{Object.keys(e.first_touch).forEach((o=>{document.querySelectorAll(e.first_touch[o]).forEach((e=>{e.value=t[o]||"[blank]"}))})),Object.keys(e.last_touch).forEach((t=>{document.querySelectorAll(e.last_touch[t]).forEach((e=>{e.value=o[t]||"[blank]"}))}))}),50):(0,r.log)({message:"Field map object is missing or incomplete.",type:"error"})},a=i=>{if(!i||"object"!=typeof i)return void(0,r.log)({message:'Missing MktoForms2 "form" object.',type:"error"});if(e.debug&&(0,r.log)({prefix:"handleMktoForm()",message:`Handling attribution fields for #mktoForm_${i.getId()}`}),"true"===i.getFormElem()[0].getAttribute("data-dirty"))return void(e.debug&&(0,r.log)({message:`autoForm skipping #mktoForm_${i.getId()}, it's already been handled`}));const n=i.getFormElem()[0],a=(0,r.readCookie)("__ecatft"),s=(0,r.readCookie)("__ecatlt"),d={ec_utm_campaign_first__c:a.utm_campaign||"NULL",ec_utm_source_first__c:a.utm_source||"NULL",ec_utm_medium_first__c:a.utm_medium||"NULL",ec_utm_content_first__c:a.utm_content||"NULL",ec_utm_term_first__c:a.utm_term||"NULL",ec_utm_device_first__c:a.utm_device||"NULL",ec_msid_first__c:a.msid||"NULL",gclid__c:a.gclid||"NULL",GCLID__c:a.gclid||"NULL",ec_landing_page_first__c:a.lp||"NULL",ec_referrer_first__c:a.referrer||"NULL",ec_utm_campaign_last__c:s.utm_campaign||"NULL",ec_utm_source_last__c:s.utm_source||"NULL",ec_utm_medium_last__c:s.utm_medium||"NULL",ec_utm_content_last__c:s.utm_content||"NULL",ec_utm_term_last__c:s.utm_term||"NULL",ec_utm_device_last__c:s.utm_device||"NULL",ec_msid_last__c:s.msid||"NULL",gclid_last__c:s.gclid||"NULL",GCLID_last__c:s.gclid||"NULL",ec_referrer_last__c:s.referrer||"NULL",ec_landing_page_last__c:s.lp||"NULL"};(null==e?void 0:e.customParams)&&Object.keys(null==e?void 0:e.customParams).forEach((t=>{const o=null==e?void 0:e.customParams[t];d[o.first]=a[t],d[o.last]=s[t]}));const c={"Form ID":i.getId()};n.getAttribute("data-formType")&&(c["Form Type"]=n.getAttribute("data-formType")),n.getAttribute("data-boundForm")&&(c["Bound Form Selector"]=n.getAttribute("data-boundForm")),"kiosk"!==n.getAttribute("data-formType")&&i.addHiddenFields(d),i.onSubmit((()=>{"kiosk"===n.getAttribute("data-formType")&&i.vals({_mkt_trk:""});const e=Object.assign({Event:"Before Submit",Submittable:i.submittable()},c);t("Marketo Form Event",e)})),i.onValidate((e=>{const r=Object.assign({Event:"Validate",Valid:e},c);if(t("Marketo Form Event",r),e){const e=o(i.vals().Email);i.addHiddenFields({ec_heap_id__c:e})}})),i.onSuccess((()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"MarketoFormSubmit",formId:`mktoForm_${i.getId()}`,pageUrl:`${window.location.origin}${window.location.pathname}`});const e=Object.assign({Event:"Submitted"},c);t("Marketo Form Event",e)})),i.getFormElem()[0].setAttribute("data-dirty","true")},s=()=>{window.addEventListener("load",(()=>{window.MktoForms2&&window.MktoForms2.whenRendered((e=>{"true"!==e.getFormElem()[0].getAttribute("data-dirty")&&a(e)}))}))},d=o=>{e.debug&&(0,r.log)({prefix:"handleHubspotForm()",message:`Handling attribution fields for ${o}`}),n({first_touch:{utm_campaign:`#hsForm_${o} input[name=ec_utm_campaign_first__c]`,utm_source:`#hsForm_${o} input[name=ec_utm_source_first__c]`,utm_medium:`#hsForm_${o} input[name=ec_utm_medium_first__c]`,utm_content:`#hsForm_${o} input[name=ec_utm_content_first__c]`,utm_term:`#hsForm_${o} input[name=ec_utm_term_first__c]`,utm_device:`#hsForm_${o} input[name=ec_utm_device_first__c]`,lp:`#hsForm_${o} input[name=ec_landing_page_first__c]`,referrer:`#hsForm_${o} input[name=ec_referrer_first__c]`,gclid:`#hsForm_${o} input[name=gclid__c]`,msid:`#hsForm_${o} input[name=ec_msid_first__c]`},last_touch:{utm_campaign:`#hsForm_${o} input[name=ec_utm_campaign_last__c]`,utm_source:`#hsForm_${o} input[name=ec_utm_source_last__c]`,utm_medium:`#hsForm_${o} input[name=ec_utm_medium_last__c]`,utm_content:`#hsForm_${o} input[name=ec_utm_content_last__c]`,utm_term:`#hsForm_${o} input[name=ec_utm_term_last__c]`,utm_device:`#hsForm_${o} input[name=ec_utm_device_last__c]`,lp:`#hsForm_${o} input[name=ec_landing_page_last__c]`,referrer:`#hsForm_${o} input[name=ec_referrer_last__c]`,gclid:`#hsForm_${o} input[name=gclid_last__c]`,msid:`#hsForm_${o} input[name=ec_msid_last__c]`}}),(null==e?void 0:e.customParams)&&Object.keys(null==e?void 0:e.customParams).forEach((t=>{const r=null==e?void 0:e.customParams[t];n({first_touch:{[t]:`#hsForm_${o} input[name=${r.first}]`},last_touch:{[t]:`#hsForm_${o} input[name=${r.last}]`}})})),window.addEventListener("message",(e=>{if("hsFormCallback"===e.data.type&&"onFormSubmitted"===e.data.eventName){if(e.data.id!==o)return;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"HubSpotFormSubmit",formId:e.data.id,pageUrl:`${window.location.origin}${window.location.pathname}`}),t("HubSpot Form Event",{"Form ID":e.data.id,Event:"Submitted"})}}))},c=()=>{if("complete"===document.readyState){if(window.HubSpotForms){window.HubSpotForms.getForms().forEach((e=>{d(e.formId)}))}else if(document.querySelectorAll(".hs-form").length>0){document.querySelectorAll("hs-form").forEach((e=>{d(e.getAttribute("form-id"))}))}}else window.addEventListener("message",(e=>{"hsFormCallback"===e.data.type&&"onFormReady"===e.data.eventName&&d(e.data.id)}))},l=()=>{var t,o,i,n,a,s,d,c,l,m,u,_,g,f,p,h,v,w;const b=(0,r.readCookie)("__ecatft"),k=(0,r.readCookie)("__ecatlt"),y=new URLSearchParams(document.location.search),F={utm_campaign:null!==(o=null===(t=null==y?void 0:y.get("utm_campaign"))||void 0===t?void 0:t.substring(0,254))&&void 0!==o?o:"",utm_source:null!==(n=null===(i=null==y?void 0:y.get("utm_source"))||void 0===i?void 0:i.substring(0,254))&&void 0!==n?n:"",utm_medium:null!==(s=null===(a=null==y?void 0:y.get("utm_medium"))||void 0===a?void 0:a.substring(0,254))&&void 0!==s?s:"",utm_content:null!==(c=null===(d=null==y?void 0:y.get("utm_content"))||void 0===d?void 0:d.substring(0,254))&&void 0!==c?c:"",utm_term:null!==(m=null===(l=null==y?void 0:y.get("utm_term"))||void 0===l?void 0:l.substring(0,254))&&void 0!==m?m:"",utm_device:null!==(_=null===(u=null==y?void 0:y.get("utm_device"))||void 0===u?void 0:u.substring(0,254))&&void 0!==_?_:"",referrer:document.referrer.split("?")[0].substring(0,254)||"",gclid:null!==(f=null===(g=null==y?void 0:y.get("gclid"))||void 0===g?void 0:g.substring(0,254))&&void 0!==f?f:"",msid:null!==(h=null===(p=null==y?void 0:y.get("msclkid"))||void 0===p?void 0:p.substring(0,254))&&void 0!==h?h:"",lp:(null===(v=document.location.hostname+document.location.pathname)||void 0===v?void 0:v.substring(0,254))||"",raw_query:(null===(w=document.location.search)||void 0===w?void 0:w.substring(0,254))||""};(null==e?void 0:e.customParams)&&(e.debug&&(0,r.log)({prefix:"Custom parameter(s) provided.",message:"Use $EPT.diagnose() to view details.",type:"info"}),Object.keys(null==e?void 0:e.customParams).forEach((e=>{var t,o;const r=null!==(o=null===(t=null==y?void 0:y.get(e))||void 0===t?void 0:t.substring(0,254))&&void 0!==o?o:"";F[e]=r}))),0===Object.keys(b).length&&(0,r.createCookie)("__ecatft",F),0===Object.keys(k).length&&(0,r.createCookie)("__ecatlt",F)};return{getFirst:()=>(0,r.readCookie)("__ecatft"),getLast:()=>(0,r.readCookie)("__ecatlt"),enableMarketoKioskMode:()=>{(0,r.log)({message:"Kiosk Mode is enabled for all Marketo forms on this page.",type:"warn"}),document.cookie=`_mkto_trk=;path=/;domain=${(0,r.extractHostname)()};expires=0`,window.MktoForms2.whenRendered((e=>{e.getFormElem()[0].setAttribute("data-formType","kiosk"),e.addHiddenFields({_mkt_trk:""})}))},autofill:n,handleMktoForm:a,autoHandleMktoForms:s,loadMarketoBlindForm:t=>{if(!(t&&t.mktoDomain&&t.munchkinId&&t.mktoFormId&&t.formSelector&&t.dataMap))return void(0,r.log)({message:"Required config options are missing.",type:"error"});const o=document.createElement("form");o.id=`mktoForm_${t.mktoFormId}`,e.debug?(0,r.log)({message:"Marketo Form is displayed in debug mode.",type:"warn"}):o.style.display="none",document.body.appendChild(o);const i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=`//${t.mktoDomain}/js/forms2/js/forms2.min.js`,document.body.appendChild(i),i.addEventListener("load",(()=>{window.MktoForms2.loadForm(`//${t.mktoDomain}`,t.munchkinId,t.mktoFormId),window.MktoForms2.whenRendered((e=>{const o=document.querySelector(t.formSelector);e.getFormElem()[0].setAttribute("data-formType","blind"),o.setAttribute("data-formType","blind"),e.getFormElem()[0].setAttribute("data-boundForm",t.formSelector),"true"!==e.getFormElem()[0].getAttribute("data-dirty")&&a(e),t.bindSubmitEvent&&o.addEventListener("submit",(()=>{e.submit()}))})),t.submitOnLoad&&window.MktoForms2.whenReady((e=>{e.getId()===t.mktoFormId&&(e.vals(t.dataMap),e.submit())}))}))},submitMarketoBlindForm:e=>{if(!(e&&e.mktoFormId&&e.formSelector&&e.dataMap))return void(0,r.log)({message:"Required config options are missing.",type:"error"});const t=document.querySelector(e.formSelector),o={};Object.entries(e.dataMap).forEach((([e,r])=>{const i=t.querySelector(e);o[r]=i.value})),window.MktoForms2.getForm(e.mktoFormId).vals(o),window.MktoForms2.getForm(e.mktoFormId).onSuccess((()=>{e.followupUrl&&(window.location.href=e.followupUrl)})).submit()},handleHubspotForm:d,autoHandleHubspotForms:c,handleCookies:l,generateGUID:r.generateGUID,diagnose:()=>{if(console.group("%c$EPT Diagnostics","color: #16CA94"),console.groupCollapsed("🎛️ Settings"),console.log("Version:",i),console.log("Debug:",e.debug),console.log("Tracking Provider:",e.trackingProvider),console.log("Auto Cookies:",e.autoCookies),console.log("Auto Forms:",e.autoForms),null==e?void 0:e.customParams){const t={};Object.keys(e.customParams).forEach((o=>{t[o]={"First Touch Field Name":null==e?void 0:e.customParams[o].first,"Last Touch Field Name":null==e?void 0:e.customParams[o].last}})),console.groupCollapsed("Custom Params"),console.table(t,["First Touch Field Name","Last Touch Field Name"]),console.groupEnd()}console.groupEnd();const t=(0,r.readCookie)("__ecatft"),o=(0,r.readCookie)("__ecatlt"),n={};Object.keys(t).forEach((e=>{n[e]={"First Touch Value":t[e],"Last Touch Value":o[e]}})),console.group("🍪 Cookie Data"),console.table(n,["First Touch Value","Last Touch Value"]),console.groupEnd(),console.groupEnd()},page:()=>{if(!window)throw new Error("$EPT Error: page() must be called in a browser environment.");(0,r.handleQueuedEvents)(),e.autoCookies&&l(),e.autoForms&&(s(),c())}}}},433:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EcHeap=void 0;const r=o(935);t.EcHeap=(e={})=>({identify:(t,o={})=>{if(!t)return e.debug&&(0,r.log)({prefix:"identify()",message:"Cannot identify, missing email address.",type:"error"}),"";if(!window.heap)return e.debug&&(0,r.log)({prefix:"identify()",message:"Cannot identify, window.heap not defined.",type:"error"}),"";const i=window.heap.identity;if(i)return e.debug&&(0,r.log)({prefix:"identify()",message:"User was already identified"}),i;const n=(0,r.generateGUID)(t);return Object.keys(o).length?window.heap.identify(n,o):window.heap.identify(n),e.debug&&(0,r.log)({prefix:"identify()",message:"User identified"}),n},track:(e,t)=>{e?window.heap&&void 0!==window.heap?(e.startsWith("Marketing - ")||(e=`Marketing - ${e}`),window.heap.track(e,t)):(0,r.log)({message:"Cannot track event, window.heap not defined.",type:"error"}):(0,r.log)({message:"Cannot track event, missing event name.",type:"error"})}})},514:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{d(r.next(e))}catch(e){n(e)}}function s(e){try{d(r.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EcSegment=void 0;const i=o(935);t.EcSegment=(e,t)=>{const o=()=>{if(void 0===e&&void 0===window.analytics)throw new Error("Missing analytics.js");return e||window.analytics};return{identify:(e,...n)=>r(void 0,[e,...n],void 0,(function*(e,r={}){if(!e)return t.debug&&(0,i.log)({prefix:"identify()",message:"Cannot identify, missing email address.",type:"error"}),"";const n=yield o().user();if(n.id())return t.debug&&(0,i.log)({prefix:"identify()",message:"User was already identified"}),n.id();const a=(0,i.generateGUID)(e);return o().identify(a,r),t.debug&&(0,i.log)({prefix:"identify()",message:"User identified"}),a})),track:(e,r)=>{e?(e.startsWith("Marketing - ")||(e=`Marketing - ${e}`),o().track(e,r)):t.debug&&(0,i.log)({message:"Cannot track event, missing event name.",type:"error"})}}}},935:(e,t)=>{function o(){const e=window.location.href;let t;if(t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?window.location.hostname:e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],"localhost"!==t&&"127.0.0.1"!==t){t=t.split(":")[0],t=t.split("?")[0];const e=t.split(".");t=e[e.length-2]+"."+e[e.length-1]}return t}function r({prefix:e,message:t,type:o}){let r="color:inherit";switch(o){case"success":r="color:#16CA94";break;case"warn":r="color:#FFAC2C";break;case"error":r="color:#FF5E5E";break;default:r="color:inherit"}const i=e?e+" %c"+t:"%c"+t;console.log("%c$EPT %c"+i,"color: #16CA94","color:#2BB4FF",r)}Object.defineProperty(t,"__esModule",{value:!0}),t.extractHostname=o,t.createCookie=function(e,t){if(!e)return void console.error("$EPT Error: Must provide a name.");if(!t)return void console.error("$EPT Error: Must provide a value.");const r=t?JSON.stringify(t):"";let i="";if("__ecatft"==e){const e=new Date;e.setFullYear(e.getFullYear()+10),i=" expires="+e.toUTCString()+";"}document.cookie=e+"="+r+"; path=/; domain="+o()+";"+i},t.readCookie=function(e){const t=e+"=",o=document.cookie.split(";");for(let e=0;e<o.length;e++){let r=o[e];for(;" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return JSON.parse(r.substring(t.length,r.length))}return{}},t.generateGUID=function(e){e=e.toLowerCase().trim();const t=(e=>{function t(e,t){return(t>>>e|t<<32-e)>>>0}return function(){const o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=new Uint32Array(64);let i=1779033703,n=3144134277,a=1013904242,s=2773480762,d=1359893119,c=2600822924,l=528734635,m=1541459225;const u=(e=>{if("string"!=typeof e&&(e=e.toString()),!e.length)return new Uint32Array(0);const t=new Uint32Array(e.length/4);for(let o=0;o<e.length;o+=4)t[o/4]=e.charCodeAt(o)<<24|e.charCodeAt(o+1)<<16|e.charCodeAt(o+2)<<8|e.charCodeAt(o+3);return t})((e=>{const t=(448-e.length-1)%512,o=new Uint8Array(t/8+1).fill(0),r=8*e.length,i=new Uint8Array(8);for(let e=0;e<8;e++)i[e]=r>>>56-8*e&255;const n=new Uint8Array(e.length+1+o.length+i.length);for(let t=0;t<e.length;t++)n[t]=e[t];n[e.length]=128;for(let t=0;t<o.length;t++)n[e.length+1+t]=o[t];for(let t=0;t<i.length;t++)n[e.length+1+o.length+t]=i[t];return n})(e.split("").map((function(e){return e.charCodeAt(0)}))));for(let e=0;e<u.length;e+=16){const _=r;for(let t=0;t<16;t++)_[t]=u[e+t];for(let e=16;e<64;e++){const o=t(7,_[e-15])^t(18,_[e-15])^_[e-15]>>>3,r=t(17,_[e-2])^t(19,_[e-2])^_[e-2]>>>10;_[e]=_[e-16]+o+_[e-7]+r>>>0}let g=i,f=n,p=a,h=s,v=d,w=c,b=l,k=m;for(let e=0;e<64;e++){const r=m+(t(6,d)^t(11,d)^t(25,d))+(d&c^~d&l)+o[e]+_[e]>>>0;k=b,b=w,w=v,v=h+r>>>0,h=p,p=f,f=g,g=r+((t(2,i)^t(13,i)^t(22,i))+(i&n^i&a^n&a)>>>0)>>>0}i=i+g>>>0,n=n+f>>>0,a=a+p>>>0,s=s+h>>>0,d=d+v>>>0,c=c+w>>>0,l=l+b>>>0,m=m+k>>>0}return[i,n,a,s,d,c,l,m].map((e=>e.toString(16).padStart(8,"0"))).join("")}()})(e);return t.slice(0,8)+"-"+t.slice(8,12)+"-4"+t.slice(13,16)+"-a"+t.slice(17,20)+"-"+t.slice(20)},t.log=r,t.handleQueuedEvents=function(){window.$EPTq&&window.$EPTq.forEach((e=>{const t=e[0],o=e.slice(1);window.$EPT.settings.debug&&r({prefix:`${t}()`,message:"called before initialization and queued. Calling now..",type:"warn"}),window.$EPT[t](...o)}))}}},t={};function o(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,o),n.exports}var r={};(()=>{var e=r;e.EptBrowser=void 0;const t=o(433),i=o(514),n=o(588),a=o(935),s=o(991);e.EptBrowser=class EptBrowser{constructor(e){if(this.settings={},this.initialized=!1,this.load=(e={})=>{e.debug&&(0,a.log)({message:"Debugger Enabled, disable debug in production.",type:"warn"}),this.settings={debug:"true"===e.debug||!0===e.debug||!1,trackingProvider:e.trackingProvider||void 0,autoCookies:e.autoCookies||!0,autoForms:e.autoForms||!1};let o={};"segment"===e.trackingProvider?o=(0,i.EcSegment)(this.analyticsInstance,e):"heap"===e.trackingProvider&&(o=(0,t.EcHeap)(e)),Object.keys(o).forEach((e=>{this[e]=o[e].bind(o)}));const r=(0,n.EcCore)({settings:e,track:this.track,identify:this.identify,version:this.version});return Object.keys(r).forEach((e=>{this[e]=r[e]})),this},this.initialized)throw new Error("$EPT has already been initialized.");this.analyticsInstance=e,this.initialized=!0,this.version=s.version}}})(),EptBrowser=r.EptBrowser})();